## 😀 2022.04.14.목

<br/>

# ✨ 노션 클로닝

## ✔ POST요청 오류
지난번에 GET요청은 잘됐는데 POST요청에 body가 null로 갔다.  
결론은 header에 ```"Content-Type": "application/json"```를 붙여주니 정상적으로 동작했다.  

**Content-Type**은 리소스가 어떤 타입으로 서버에 실리는지 알려주는 용도라고 한다.  
기본은 "Mulitipart/related"라고 한다.  

오류메시지가 없어서 팀원들에게 물어봐서야 해결할 수 있었다.  
아직 잘 이해하지는 못했지만 이런 보내는 데이터의 타입을 따로 header에 명시해서 보내야하는구나 하는것만 알고간다.  

<br>

## ✔ element append 순서 지정
컴포넌트 두개를 한페이지에 랜더링 시키는데 컴포넌트 한개가 랜더링시 시간이 오래걸려서 비교적 빠르게 랜더링되는 컴포넌트가 먼저 append되고 그뒤에 다른 컴포넌트가 올라갔다. 

```html
<div>
  <div>빠르게 랜더링된 컴포넌트</div>
  <nav>느리게 랜더링된 컴포넌트</nav>
</div>
```
느리게 랜더링된 컴포넌트가 위로 올라가있어야하는데 뒤늦게 랜더링되다보니 아래로 내려가 있었다.  
해결은 생각보다 간단했다.  
appendChild해주던 부분에 appendChild대신에 prepend를 해주니 prepend해준 컴포넌트가 앞에 추가 되었다.  
append만 사용하다가 이런 매서드가 있는지는 이번에 처음 알게 되었다.  

|매서드|설명|
|--|---|
|appendChild|DOM메서드이다. <br> 생성되어있는 요소만 추가가능하며, 추가시 맨 뒤에 위치하게된다.|
|append|appendChild와 달리 JS함수이다.<br> 노드 뿐아니라 문자도 추가가능하다.<br> appendChild와 달리 값을 return 하지 않는다. <br>그래서 console.log()를 찍어도 undefined가 출력된다.|
|prepend|append와 달리 맨 앞에 추가된다.<br> 문자열,요소 추가가 가능하다.|
|after|선택한 요소 바로 뒤에 추가된다.|
|before|선택한 요소 바로 앞에 추가된다.|

<https://velog.io/@ldaehi0205/Javascript-append-appendChild-prepend>

<br>

# ✨ 회고
오늘 다른건 안하고 노션 클론코딩만 했다.  
그중에서 상태관리를 어떻게 해야할지에대한 고민을 많이 했다.  
페이지나 컴포넌트가 그렇게 많지 않으니 그냥 컴포넌트 안에서 state 내려줄까 싶다가도 생태를 한번에 보기가 어려워서 따로 분리해줄까 싶다가 어떻게 해야할지 모르겠다.  
상태가 변경되면 바로 그 부분만 랜더링되게 해야하는 부분이 어려운 것 같다.  
아직 시간이 좀 남았으니 생각을 더 해봐야겠다.  
