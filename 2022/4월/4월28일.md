## ğŸ˜€ 2022.04.28.ëª©

<br/>

# âœ¨ this

## âœ” this í‚¤ì›Œë“œ
thisëŠ” ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ìê¸° **ì°¸ì¡° ë³€ìˆ˜** ì´ë‹¤. thisê°€ ê°€ë¦¬í‚¤ëŠ” ê°’ì€ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.  

```js
console.log(this) // window

function func () {
  console.log(this) //window
}
func()

const person = {
  name: 'knk',
  callName () {
    console.log(this) // {name:knk, callName: f}
  }
}
```
strict modeì—ì„œì˜ ì¼ë°˜í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” undefinedê°€ ë°”ì¸ë”©ëœë‹¤.  

## âœ” í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ê³¼ this ë°”ì¸ë”©
ì•ì—ì„œ ì–¸ê¸‰í–ˆë‹¤ì‹œí”¼ thisëŠ” í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.  
1. ì¼ë°˜í•¨ìˆ˜ í˜¸ì¶œ
2. ë©”ì„œë“œ í˜¸ì¶œ
3. ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
4. Function.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ

<br>

### â–ª ì¼ë°˜í•¨ìˆ˜ í˜¸ì¶œ

ì–´ë–¤ í•¨ìˆ˜ë¼ë„ ì¼ë°˜í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ë©´ thisì— ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”© ëœë‹¤.
```js
var value = 1

const obj = {
  value: 100,
  foo() {
    function bar() {
      console.log(this)
    }
    console.log(this) // { value: 100, foo: [Function: foo] }
    bar() // window
  }
}

obj.foo()
```


```js
var value = 1

const obj = {
  value: 100,
  foo() {

    // ë°©ë²•1 : that
    const that = this;
    setTimeout(function () {
      console.log(that) // { value: 100, foo: [Function: foo] }
      console.log(this) // Timeout
    },100)

    // ë°©ë²•2 : bind
    setTimeout(function () {
      console.log(this) // { value: 100, foo: [Function: foo] }
    }.bind(this),100)

    // ë°©ë²•3 : í™”ì‚´í‘œ í•¨ìˆ˜
    setTimeout(() => {
      console.log(this) // { value: 100, foo: [Function: foo] }
    },100)
  }
}

obj.foo()
```

### â–ª Function.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ

```js
function getThisBinding() {
  return this
}
const thisArg = { a: 1 }
console.log(getThisBinding.apply(thisArg)); // { a: 1 }
console.log(getThisBinding.call(thisArg)); // { a: 1 }
```